class Solution:
    def longestPalindromeSubseq(self, s: str) -> int:
        j=len(s)
        memo=[[-1]*j for _ in range(j)]
        
        def dp(i,j):
            if memo[i][j]!=-1:
                return memo[i][j]
            if i==j:
                return 1
            if i>j:
                return 0
            
            if s[i]==s[j]:
                memo[i][j]= 2+ dp(i+1,j-1)
                return memo[i][j]
            else:
                memo[i][j]= max(dp(i+1,j),dp(i,j-1))
                return memo[i][j]

        return dp(0,j-1)
    
    
# ================================================
# ЁЯУМ Longest Palindromic Subsequence (LPS) ржПрж░ ржмрзНржпржмрж╣рж╛рж░
# ================================================

# ЁЯзм рзз. ржмрж╛ржпрж╝рзЛржЗржиржлрж░ржорзЗржЯрж┐ржХрзНрж╕ / DNA ржмрж┐рж╢рзНрж▓рзЗрж╖ржг
#    ржбрж┐ржПржиржП ржмрж╛ ржЖрж░ржПржиржП рж╕рж┐ржХрзЛржпрж╝рзЗржирзНрж╕рзЗ ржкрзНржпрж╛рж▓рж┐ржиржбрзНрж░рзЛржорж┐ржХ ржЕржВрж╢ (ржпрзЗржоржи ACGTGTCA) рж╢ржирж╛ржХрзНржд ржХрж░рждрзЗред
#    ржПржЯрж┐ ржЬрзЗржирзЗржЯрж┐ржХ ржорж┐ржЙржЯрзЗрж╢ржи ржмрж╛ ржЗржиржнрж╛рж░рзНржЯрзЗржб рж░рж┐ржкрж┐ржЯ ржЦрзЛржБржЬрж╛рж░ ржЬржирзНржп ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ред

# ЁЯТ╛ рзи. ржбрзЗржЯрж╛ ржХржорзНржкрзНрж░рзЗрж╢ржи
#    ржХрзЛржирзЛ рж╕рзНржЯрзНрж░рж┐ржВ-ржП ржкрзНржпрж╛рж▓рж┐ржиржбрзНрж░рзЛржорж┐ржХ ржкрзНржпрж╛ржЯрж╛рж░рзНржи ржЦрзБржБржЬрзЗ ржмрзЗрж░ ржХрж░рзЗ ржХржорзНржкрзНрж░рзЗрж╕ ржХрж░рж╛рж░ рж╕рзБржмрж┐ржзрж╛ ржжрзЗржпрж╝ред

# ЁЯФТ рзй. рждрзНрж░рзБржЯрж┐ рж╕ржВрж╢рзЛржзржи (Error Correction)
#    рж╕рзНржЯрзНрж░рж┐ржВ ржбрзЗржЯрж╛рж░ ржЕржХрзНрж╖рждрждрж╛ (integrity) ржмржЬрж╛ржпрж╝ рж░рж╛ржЦрждрзЗ ржПржмржВ ржбрзЗржЯрж╛ ржнрзБрж▓ рж╣ржпрж╝рзЗржЫрзЗ ржХрж┐ржирж╛ рждрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рждрзЗред

# ЁЯза рзк. ржкрзНрж░рж╛ржХрзГрждрж┐ржХ ржнрж╛рж╖рж╛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржХрж░ржг (NLP)
#    ржЯрзЗржХрзНрж╕ржЯ ржмрж╛ ржнрж╛рж╖рж╛рж░ ржоржзрзНржпрзЗ рж▓рзБржХрж╛ржирзЛ рж╕рж┐ржорзЗржЯрзНрж░рж┐ржХ (symmetry) ржмрж╛ ржЧржаржи ржмрж┐рж╢рзНрж▓рзЗрж╖ржгрзЗрж░ ржХрж╛ржЬрзЗ ржЖрж╕рзЗред

# ЁЯФБ рзл. ржкрзНржпрж╛ржЯрж╛рж░рзНржи рж░рж┐ржХржЧржирж┐рж╢ржи
#    ржПржХржЯрж┐ рж╕рзНржЯрзНрж░рж┐ржВ ржирж┐ржЬрзЗржЗ ржХрждржЯрж╛ рж╕рж┐ржорзЗржЯрзНрж░рж┐ржХ рждрж╛ ржкрж░рж┐ржорж╛ржк ржХрж░рждрзЗ ржмрж╛ ржЕржирзНржп рж╕рзНржЯрзНрж░рж┐ржВржпрж╝рзЗрж░ рж╕рж╛ржерзЗ рждрзБрж▓ржирж╛ ржХрж░рждрзЗред

# ЁЯОо рзм. ржЧрзЗржо ржУ ржзрж╛ржБржзрж╛
#    ржмрж┐ржнрж┐ржирзНржи рж╕рзНржЯрзНрж░рж┐ржВ-ржнрж┐рждрзНрждрж┐ржХ ржЧрзЗржо ржмрж╛ ржзрж╛ржБржзрж╛ рж╕ржорж╛ржзрж╛ржирзЗ ржмрзНржпржмрж╣рж╛рж░ рж╣ржпрж╝ ржпрзЗржЦрж╛ржирзЗ ржкрзНржпрж╛рж▓рж┐ржиржбрзНрж░рзЛржо ржЧржаржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред

# тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░:
#    LPS algorithm ржмрж╛рж╕рзНрждржм ржЬрзАржмржирзЗ ржмрж┐ржнрж┐ржирзНржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХрзНрж╖рзЗрждрзНрж░рзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ тАФ
#    ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ ржпрзЗржЦрж╛ржирзЗ рждржерзНржп рж╕ржарж┐ржХржнрж╛ржмрзЗ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг, рж╕ржВрж░ржХрзНрж╖ржг ржмрж╛ ржпрж╛ржЪрж╛ржЗ ржХрж░рждрзЗ рж╣ржпрж╝ред
